<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>﻿
	<title>Mi cuenta</title>
	<link rel="stylesheet"
		href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
		integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
		crossorigin="anonymous" />

	<Style>
.button {
	background-color: #4CAF50;
	border: none;
	color: white;
	padding: 16px 32px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-size: 16px;
	margin: 4px 2px;
	-webkit-transition-duration: 0.4s;
	transition-duration: 0.4s;
	cursor: pointer;
	border-radius: 50px;
	padding: 15px 40px;
	position: relative;
	bottom: 40px;
}
	
.button1 {
	background-color: #4CAF50;
	color: black;
	border: 2px solid #4CAF50;
}

.button1:hover {
	background-color: #4CAF50;
	color: white;

}

.button2 {
	background-color: #4CAF50;
	color: black;
	border: 2px solid #4CAF50;
}

.button2:hover {
	background-color: #4CAF50;
	color: white;
}
	
.dropbtn {
	background-color: #4CAF50;
	border: none;
	color: white;
	padding: 16px 32px;
	text-align: center;
	text-decoration: none;
	display: inline-block;
	font-size: 16px;
	margin: 4px 2px;
	-webkit-transition-duration: 0.4s;
	transition-duration: 0.4s;
	cursor: pointer;
	border-radius: 50px;
	padding: 15px 40px;
	position: relative;
	bottom: 40px;
}

.dropdown {
	position: relative;
	display: inline-block;
}

.dropdown-content {
	display: none;
	position: absolute;
	background-color: lightgreen;
	min-width: 200px;
	z-index: 1;
	border-radius: 25px;
}

.dropdown-content a {
	color: black;
	padding: 12px 16px;
	text-decoration: none;
	display: block;
}

.dropdown-content a:hover {
	background-color: white;
	border-radius: 50px;
}

.dropdown:hover .dropdown-content {
	display: block;
}

.dropdown:hover .dropbtn {
	background-color: grey;
}

.footer-distributed{
	background-color: #A8A8A8;
	box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.12);
	box-sizing: border-box;
	width: 100%;
	text-align: left;
	font: bold 16px sans-serif;

	padding: 20px 50px 5px 50px;
	margin-top: 70px;
}

.footer-distributed .footer-left,
.footer-distributed .footer-center,
.footer-distributed .footer-right{
	display: inline-block;
	vertical-align: top;
}

/* Footer left */

.footer-distributed .footer-left{
	width: 30%;
}

/* The company logo */

.footer-distributed h3{
	color:  #ffffff;
	font: normal 36px 'Cookie', cursive;
	margin-top: 25px;
}

.footer-distributed h3 span{
	color:  #88FF00;
}

/* Footer links */

.footer-distributed .footer-links{
	color:  #ffffff;
	margin: 20px 0 12px;
	padding: 0;
}

.footer-distributed .footer-links a{
	display:inline-block;
	line-height: 1.8;
	text-decoration: none;
	color:  inherit;
}

.footer-distributed .footer-company-name{
	color:  #8f9296;
	font-size: 14px;
	font-weight: normal;
	margin: 0;
}

/* Footer Center */

.footer-distributed .footer-center{
	width: 40%;
}

.footer-distributed .footer-center i{
	background-color:  #33383b;
	color: #ffffff;
	font-size: 25px;
	width: 38px;
	height: 38px;
	border-radius: 50%;
	text-align: center;
	line-height: 42px;
	margin: 10px 15px;
	vertical-align: middle;
}

.footer-distributed .footer-center i.fa-envelope{
	font-size: 17px;v
	line-height: 38px;
}

.footer-distributed .footer-center p{
	display: inline-block;
	color: #ffffff;
	vertical-align: middle;
	margin:0;
}

.footer-distributed .footer-center p span{
	display:block;
	font-weight: normal;
	font-size:14px;
	line-height:2;
}

.footer-distributed .footer-center p a{
	color:  #88FF00;
	text-decoration: none;;
}


/* Footer Right */

.footer-distributed .footer-right{
	width: 28%;
}

.footer-distributed .footer-company-about{
	line-height: 20px;
	color:  #92999f;
	font-size: 13px;
	font-weight: normal;
	margin: 0;
}

.footer-distributed .footer-company-about span{
	display: block;
	color:  #ffffff;
	font-size: 14px;
	font-weight: bold;
	margin-bottom: 20px;
}

.footer-distributed .footer-icons{
	margin-top: 25px;
}

.footer-distributed .footer-icons a{
	display: inline-block;
	width: 35px;
	height: 35px;
	cursor: pointer;
	background-color:  #33383b;
	border-radius: 2px;

	font-size: 20px;
	color: #ffffff;
	text-align: center;
	line-height: 35px;

	margin-right: 3px;
	margin-bottom: 5px;
}

@media (max-width: 880px) {

	.footer-distributed{
		font: bold 14px sans-serif;
	}

	.footer-distributed .footer-left,
	.footer-distributed .footer-center,
	.footer-distributed .footer-right{
		display: block;
		width: 100%;
		margin-bottom: 40px;
		text-align: center;
	}

	.footer-distributed .footer-center i{
		margin-left: 0;
	}

}
</Style>

</h:head>

<h:body style="background-color: rgb(250, 250, 250)">

	<h:panelGroup layout="block" rendered="#{!(loginBean.userType eq 'A' or loginBean.userType eq 'O' or loginBean.userType eq 'U')}"
		style="border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0); background-color: rgb(250, 250, 250); border-radius: 0px">
		<a href="../index.xhtml"><h:graphicImage library="resources"
				name="Logo.png"
				style="height: 90px; width: 110px; position: relative; left: 50px;" /></a>

		<button class="button button1" value="Ingresar"
			onclick="location.href='/GaleriaArte/faces/sesion/Login.xhtml'"
			style="left: 68%">Ingresar</button>
		<button class="button button2" value="Registrarse"
			onclick="location.href='/GaleriaArte/faces/sesion/RegistroUsuarios.xhtml'"
			style="left: 68%">Registrarse</button>

	</h:panelGroup>
	
	<h:panelGroup layout="block" rendered="#{loginBean.userType eq 'U'}"
		style="border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0); background-color: rgb(250, 250, 250); border-radius: 0px">
		<a href="../index.xhtml"><h:graphicImage library="resources" name="Logo.png"
			style="height: 90px; width: 110px; position: relative; left: 50px;" /></a>

		<div class="dropdown" style="left: 79%">
			<button class="dropbtn">Usuarios <i class="fas fa-users"></i></button>
			<div class="dropdown-content">

				<a href="MiCuenta.xhtml?faces-redirect=true">Mi cuenta</a>  
				<a href="../obras/ListaDeCompras.xhtml?faces-redirect=true">Mis compras</a>
				<a href="CerrarSesion.xhtml?faces-redirect=true">Cerrar sesión</a>
			</div>
		</div>


	</h:panelGroup>
	
	<h:panelGroup layout="block" rendered="#{loginBean.userType eq 'O' or loginBean.userType eq 'A'}"
		style="border-color: rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0) rgb(0, 0, 0); background-color: rgb(250, 250, 250); border-radius: 0px">
		
		<a href="../index.xhtml"><h:graphicImage library="resources" name="Logo.png"
			style="height: 90px; width: 110px; position: relative; left: 50px;" /></a>

		<div class="dropdown" style="left: 77%">
		
			<button class="dropbtn">
				<p:outputLabel rendered="#{loginBean.userType eq 'A'}" value="Administrador " ><i class="fas fa-user-cog"/></p:outputLabel>
				<p:outputLabel rendered="#{loginBean.userType eq 'O'}" value="Owner " ><i class="fas fa-user-tie"/></p:outputLabel>
			</button>
			
			<div class="dropdown-content">
				<a href="MiCuenta.xhtml?faces-redirect=true">Mi cuenta</a>  
				<a href="../obras/ListaDeCompras.xhtml?faces-redirect=true">Mis compras</a>
				<a href="../administrador/ListaDeUsuarios.xhtml">Usuarios</a> 
				<a href="../administrador/ListaDeTransacciones.xhtml">Transacciones</a> 
				<a href="../administrador/ListaDeObras.xhtml">Obras</a> 
				<a href="../administrador/ListaDeExposiciones.xhtml">Exposiciones</a>	
				<a href="../administrador/ListaDeAuditoria.xhtml">Auditorias</a>	
				<a href="CerrarSesion.xhtml?faces-redirect=true">Cerrar sesión</a>
			</div>
			
		</div>


	</h:panelGroup>
	
	
	<h:panelGroup layout="block" style="margin: 20px 0px 0px 0px">
		<h:form>
			<p:growl id="messages" style="width: 200px"/>
			<p:menubar>

				<p:menuitem value="Inicio" url="../index.xhtml" />
				<p:menuitem value="Obras" url="../obras/PaginaObras.xhtml" />
				<p:menuitem value="Exposiciones" url="../obras/Exposicion.xhtml" />
				<p:menuitem value="Información" url="../obras/Informacion.xhtml" />

			</p:menubar>
		</h:form>
		</h:panelGroup>

	
<h:panelGroup layout="block" style="margin: 35px 0px 0px 0px; width: 100%">

	<h:form>
    <p:panel columns="2" style="margin-bottom:20px">
        <h:panelGrid columns="2" cellpadding="10">
            
            <p:panelGrid columns="2">
    <f:facet name="header">
        <p:graphicImage name="Usuario.png" style="width:110px; heigth:100px" />
    </f:facet>
     
    <h:outputText value="Usuario" />
    <h:outputText value="#{usuarioBean.usuario.userName}" />
     
    <h:outputText value="Nombre" />
    <h:outputText value="#{usuarioBean.usuario.fullName}" />
    
				
				<p:commandButton icon="fas fa-search" style="width:70px; height: 45px" onclick="PF('dlg1').show()">
				
					<p:dialog header="Información del usuario" widgetVar="dlg1" modal="true"  height="200" resizable="false">
					<center>
					<p:panelGrid columns="2">
					
						<h:outputText value="Usuario" />
						<h:outputText value="#{usuarioBean.usuario.userName}"/>
						 <h:outputText value="Tipo de usuario" />
						<h:outputText value="Owner" rendered="#{usuarioBean.usuario.userType eq 'O'}"/>
						<h:outputText value="Administrador" rendered="#{usuarioBean.usuario.userType eq 'A'}"/>
						<h:outputText value="Usuario" rendered="#{usuarioBean.usuario.userType eq 'U'}"/>
						<h:outputText value="Nombre" />
						<h:outputText value="#{usuarioBean.usuario.fullName}"/>
						<h:outputText value="Correo" />
						<h:outputText value="#{usuarioBean.usuario.emailAddress}"/>
						<h:outputText value="Telefono" />
						<h:outputText value="#{usuarioBean.usuario.phoneNumber}"/>
							 
					</p:panelGrid>
					</center>
					</p:dialog>
				</p:commandButton>
				
    					
				<p:commandButton  icon="fas fa-pencil-alt" style="width:70px; height: 45px" onclick="PF('dlg2').show()"  >
				
					<p:dialog header="Actualizar datos" widgetVar="dlg2" modal="true"  height="250" resizable="false" >
					<center>
					<p:panelGrid columns="2">
						<h:outputLabel for="username" value="Usuario" />
			        	<p:outputLabel value="#{usuarioBean.usuario.userName}" id="username"/>
			        
			 			<h:outputLabel for="nombre" value="Nombre completo" />
			        	<p:inputText requiredMessage="Ingrese el nombre" validatorMessage="Solo letras." placeholder="" value="#{usuarioBean.usuario.fullName}" id="nombre" required="true" label="nombre" >
			       			<f:validateRegex pattern="^[a-zA-Z ]*$"/>
			        		<p:message for="nombre"/>
			       		</p:inputText>
			        
			 			<h:outputText value="Clave" />
			 			<h:outputText value="Confirmar clave"/>
			
						<p:password requiredMessage="Ingrese la contraseña" validatorMessage="Longitud de entre 5 y 8 caracteres. Una letra mayúscula, una letra minúscula y un número. No carácteres especiales. Las contraseñas deben coincidir." placeholder="" value="#{usuarioBean.usuario.password}" id="password" match="confirmarPassword" required="true" label="password" >
					        <f:validateRegex pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{5,8}$"/>
					        <p:message for="password"/>
			        	</p:password>
			        
			       		<p:password requiredMessage="Ingrese la contraseña" validatorMessage="Longitud de entre 5 y 8 caracteres. Una letra mayúscula, una letra minúscula y un número. No carácteres especiales. Las contraeñas deben coinicidir." placeholder="" id="confirmarPassword" required="true" label="confirmarPassword">
			      			<f:validateRegex pattern="^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{5,8}$"/>
			      			<p:message for="confirmarPassword"/>
			       		</p:password>
			
			
						<h:outputLabel for="correo" value="Correo electronico" /> 
			        	<p:inputText requiredMessage="Ingrese el correo electrónico" validatorMessage="Letras minúscula, mayúscula o números. No carácteres especiales." placeholder="" value="#{usuarioBean.usuario.emailAddress}" id="correo" required="true" label="correo" >
			        		<f:validateRegex pattern="^[_A-Za-z0-9-/+]+(\.[_A-Za-z0-9]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
			       			<p:message for="correo"/>
			       		</p:inputText>
			
						<h:outputLabel for="telefono" value="Telefono" />
			        	<p:inputText requiredMessage="Ingrese número celular" validatorMessage="Longitud de 10 caracteres. Solo números. No letras ni carácteres especiales. " value="#{usuarioBean.usuario.phoneNumber}" placeholder="" id="telefono" required="true" label="telefono" >
			        		<f:validateRegex pattern="^3[0-9]{9,9}$"/>
			        		<p:message for="telefono"/>
			        	</p:inputText>
					</p:panelGrid>
					
						<center>
	          				<p:commandButton id="actualizarUsuario" value="Actualizar datos" ajax="false" action = "#{usuarioBean.actualizarDatosUsuario}"/>
	        			</center>
	        			
					</center>
					</p:dialog>
				</p:commandButton> 
			</p:panelGrid>

			<h:panelGroup>
				<p:calendar id="inline" mode="inline"/> 
       		</h:panelGroup>
             
       	</h:panelGrid>
    </p:panel>
    
    </h:form>

</h:panelGroup>

	<footer class="footer-distributed">

			<div class="footer-left">
			
			<h3>Sophy <span>Art</span></h3>
			
			</div>

			<div class="footer-center">

				<div>
					<i class="fas fa-map-marker-alt"></i>
					<p><span>No 131 A, Carrera 9 # 131 A 2</span>Bogotá D.C.</p>
				</div>

				<div>
					<i class="far fa-envelope"></i>
					<p><a href="mailto:gsapresidente@gmail.com">gsapresidente@gmail.com</a></p>
				</div>

			</div>

			<div class="footer-right">

				<p class="footer-company-about">
					<span>Sophy Art</span>
				</p>

				<div class="footer-icons">

					<a href="https://www.facebook.com/Sophy-Art-2406743689555018/?modal=admin_todo_tour"><i class="fab fa-facebook-f"></i></a>
					<a href="#"><i class="fab fa-twitter"></i></a>
					<a href="https://www.instagram.com/galeriasophyart/?hl=es-la"><i class="fab fa-instagram"></i></a>

				</div>

			</div>

		</footer>

</h:body>
</html>